<!DOCTYPE html>
<html lang="en">

<head>
  <title>Pega GovUS</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1.0, viewport-fit=cover" />
  <script src="./assets/js/uswds-init.min.js"></script>
  <link rel="stylesheet" href="./assets/css/uswds.min.css" />
  <link rel="stylesheet" href="./app.css" type="text/css">
</head>

<body>
  <a class="usa-skipnav" href="#main-content">Skip to main content</a>
  <section class="usa-banner" aria-label="Official government website">
    <div class="usa-accordion">
      <header class="usa-banner__header">
        <div class="usa-banner__inner">
          <div class="grid-col-auto">
            <img class="usa-banner__header-flag" src="assets/img/us_flag_small.png" alt="U.S. flag">
          </div>
          <div class="grid-col-fill tablet:grid-col-auto">
            <p class="usa-banner__header-text">An official website of the United States government</p>
            <p class="usa-banner__header-action" aria-hidden="true">Here’s how you know</p>
          </div>
          <button class="usa-accordion__button usa-banner__button" aria-expanded="false" aria-controls="gov-banner">
            <span class="usa-banner__button-text">Here’s how you know</span>
          </button>
        </div>
      </header>
      <div class="usa-banner__content usa-accordion__content" id="gov-banner">
        <div class="grid-row grid-gap-lg">
          <div class="usa-banner__guidance tablet:grid-col-6">
            <img class="usa-banner__icon usa-media-block__img" src="assets/img/icon-dot-gov.svg" role="img" alt=""
              aria-hidden="true">
            <div class="usa-media-block__body">
              <p>
                <strong>
                  Official websites use .gov
                </strong>
                <br />
                A <strong>.gov</strong> website belongs to an official government organization in the United States.

              </p>
            </div>
          </div>
          <div class="usa-banner__guidance tablet:grid-col-6">
            <img class="usa-banner__icon usa-media-block__img" src="assets/img/icon-https.svg" role="img" alt=""
              aria-hidden="true">
            <div class="usa-media-block__body">
              <p>
                <strong>
                  Secure .gov websites use HTTPS
                </strong>
                <br />
                A <strong>lock</strong> (
                <span class="icon-lock"><svg xmlns="http://www.w3.org/2000/svg" width="52" height="64"
                    viewBox="0 0 52 64" class="usa-banner__lock-image" role="img"
                    aria-labelledby="banner-lock-title banner-lock-description" focusable="false">
                    <title id="banner-lock-title">Lock</title>
                    <desc id="banner-lock-description">A locked padlock</desc>
                    <path fill="#000000" fill-rule="evenodd"
                      d="M26 0c10.493 0 19 8.507 19 19v9h3a4 4 0 0 1 4 4v28a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V32a4 4 0 0 1 4-4h3v-9C7 8.507 15.507 0 26 0zm0 8c-5.979 0-10.843 4.77-10.996 10.712L15 19v9h22v-9c0-6.075-4.925-11-11-11z" />
                  </svg></span>
                ) or <strong>https://</strong> means you’ve safely connected to the .gov website. Share sensitive
                information only on official, secure websites.

              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <div class="usa-overlay"></div>
  <header class="usa-header usa-header--extended usa-header-dark">
    <div class="usa-navbar">
      <div class="usa-logo" id="extended-logo">
        <em class="usa-logo__text">
          <img height="32" src="assets/img/logo-ssa.svg">
          <a style="margin-left:0.5rem" href="./ssa.html" title="HealthCare">
            Social Security
          </a>
        </em>
      </div>
      <button class="usa-menu-btn">Menu</button>
    </div>
    <nav aria-label="Primary navigation" class="usa-nav">
      <div class="usa-nav__inner">
        <button class="usa-nav__close">
          <img src="assets/img/close.svg" role="img" alt="Close">
        </button>
        <ul class="usa-nav__primary usa-accordion">
          <li class="usa-nav__primary-item">
            <button class="usa-accordion__button usa-nav__link usa-current" aria-expanded="false"
              aria-controls="extended-nav-section-one">
              <span>Benefits</span>
            </button>
            <ul id="extended-nav-section-one" class="usa-nav__submenu">
              <li class="usa-nav__submenu-item">
                <a href="#">Retirement</a>
              </li>
              <li class="usa-nav__submenu-item">
                <a href="#">Disability</a>
              </li>
              <li class="usa-nav__submenu-item">
                <a href="#">Medicare</a>
              </li>
              <li class="usa-nav__submenu-item">
                <a href="#">Survivors</a>
              </li>
              <li class="usa-nav__submenu-item">
                <a href="#">Supplemental Security Income</a>
              </li>
              <li class="usa-nav__submenu-item">
                <a href="#">Retirement Estimator</a>
              </li>
            </ul>
          </li>
          <li class="usa-nav__primary-item">
            <button class="usa-accordion__button usa-nav__link" aria-expanded="false"
              aria-controls="extended-nav-section-two">
              <span>Business & Government</span>
            </button>
            <ul id="extended-nav-section-two" class="usa-nav__submenu">
              <li class="usa-nav__submenu-item">
                <a href="#">Business Services</a>
              </li>
              <li class="usa-nav__submenu-item">
                <a href="#">Congress</a>
              </li>
              <li class="usa-nav__submenu-item">
                <a href="#">Data Exchange</a>
              </li>
              <li class="usa-nav__submenu-item">
                <a href="#">Electronic Records Expressrvivors</a>
              </li>
              <li class="usa-nav__submenu-item">
                <a href="#">Employers</a>
              </li>
              <li class="usa-nav__submenu-item">
                <a href="#">Financial Institutions</a>
              </li>
            </ul>
          </li>
          <li class="usa-nav__primary-item">
            <a href="javascript:void(0)" class="usa-nav__link">
              <span>Agency Information</span>
            </a>
          </li>
        </ul>
        <div class="usa-nav__secondary">
          <ul class="usa-nav__secondary-links">
            <li class="usa-nav__secondary-item">
              <a href="">Languages</a>
            </li>
            <li class="usa-nav__secondary-item">
              <a href="">Log out</a>
            </li>
          </ul>
          <form class="usa-search usa-search--small" role="search">
            <label class="usa-sr-only" for="extended-search-field-en-small">
              Search
            </label>
            <input class="usa-input" id="extended-search-field-en-small" type="search" name="search">
            <button class="usa-button" type="submit">
              <span class="usa-sr-only">Search</span>
            </button>
          </form>
        </div>
      </div>
    </nav>
  </header>
  <main id="main-content">
    <section class="grid-container usa-section">
      <div class="grid-row grid-gap">
        <div class="tablet:grid-col-4">
          <h2 class="font-heading-xl margin-top-0 tablet:margin-bottom-0">Online Services</h2>
        </div>
        <div class="tablet:grid-col-8 usa-prose">
          <p>We are constantly expanding our online services to give you freedom and control when conducting business
            with Social Security. Today, you can apply for retirement, disability, and Medicare benefits online, check
            the status of an application or appeal, request a replacement Social Security card (in most areas), print a
            benefit verification letter, and more – from anywhere and from any of your devices!</p>
          <p>Hours of Service: Monday - Friday 5 AM - 1 AM ET | Saturday 5 AM - 11 PM ET | Sunday 8 AM - 11:30 PM ET</p>
        </div>
      </div>
    </section>
    <section id="test-section-id" class="usa-section">
      <div class="grid-container">
        <h2 class="font-heading-xl margin-y-0">My pending cases</h2>
        <div id='myworkist'></div>
      </div>
    </section>
    <section id="test-section-id" class="usa-section">
      <div class="grid-container">
        <p class="usa-intro">
          Click on the button below to request your benefit verification letter.
        </p>
        <a class="usa-button usa-button--big" onclick="startBenefitVerification(event);">Start</a>
      </div>
    </section>
  </main>
  <footer class="usa-footer">
    <div class="grid-container usa-footer__return-to-top">
      <a href="#">Return to top</a>
    </div>
    <div class="usa-footer__primary-section">
      <nav class="usa-footer__nav" aria-label="Footer navigation">
        <ul class="grid-row grid-gap">
          <li class="mobile-lg:grid-col-4 desktop:grid-col-auto usa-footer__primary-content">
            <a class="usa-footer__primary-link" href="javascript:void(0);">
              Help
            </a>
          </li>
          <li class="mobile-lg:grid-col-4 desktop:grid-col-auto usa-footer__primary-content">
            <a class="usa-footer__primary-link" href="javascript:void(0);">
              About
            </a>
          </li>
          <li class="mobile-lg:grid-col-4 desktop:grid-col-auto usa-footer__primary-content">
            <a class="usa-footer__primary-link" href="javascript:void(0);">
              Contact Us
            </a>
          </li>
          <li class="mobile-lg:grid-col-4 desktop:grid-col-auto usa-footer__primary-content">
            <a class="usa-footer__primary-link" href="javascript:void(0);">
              Offices
            </a>
          </li>
        </ul>
      </nav>
    </div>

    <div class="usa-footer__secondary-section">
      <div class="grid-container">
        <div class="grid-row grid-gap">
          <div class="usa-footer__logo grid-row mobile-lg:grid-col-6 mobile-lg:grid-gap-2">
            <div class="mobile-lg:grid-col-auto">
              <img class="usa-footer__logo-img" src="assets/img/logo-img.png" alt="">
            </div>
            <div class="mobile-lg:grid-col-auto">
              <p class="usa-footer__logo-heading">
                Social Security
              </p>
            </div>
          </div>
          <div class="usa-footer__contact-links mobile-lg:grid-col-6">
            <div class="usa-footer__social-links grid-row grid-gap-1">

              <div class="grid-col-auto">
                <a class="usa-social-link usa-social-link--facebook" href="javascript:void(0);">
                  <span>Facebook</span>
                </a>
              </div>

              <div class="grid-col-auto">
                <a class="usa-social-link usa-social-link--twitter" href="javascript:void(0);">
                  <span>Twitter</span>
                </a>
              </div>

              <div class="grid-col-auto">
                <a class="usa-social-link usa-social-link--youtube" href="javascript:void(0);">
                  <span>YouTube</span>
                </a>
              </div>

              <div class="grid-col-auto">
                <a class="usa-social-link usa-social-link--instagram" href="javascript:void(0);">
                  <span>Instagram</span>
                </a>
              </div>

              <div class="grid-col-auto">
                <a class="usa-social-link usa-social-link--rss" href="javascript:void(0);">
                  <span>RSS</span>
                </a>
              </div>

            </div>
            <h3 class="usa-footer__contact-heading">
              &lt;Agency Contact Center&gt;
            </h3>
            <address class="usa-footer__address">
              <div class="usa-footer__contact-info grid-row grid-gap">
                <div class="grid-col-auto">
                  <a href="tel:1-800-555-5555">
                    &lt;(800) 555-GOVT&gt;
                  </a>
                </div>
                <div class="grid-col-auto">
                  <a href="mailto:&lt;info@agency.gov&gt;">
                    &lt;info@agency.gov&gt;
                  </a>
                </div>
              </div>
            </address>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <script src="./assets/js/uswds.min.js"></script>
  <script src="./pega-govus.js"></script>
  <script>
    const defaultSettings = localStorage.getItem('defaultcfg');
    let defaultCfg = {
      url: "https://pw16agenda-dt1.pegacloud.io/prweb",
      portalName: "DemoReact1",
      username: "wssuser2",
      password: "install@123",
      clientid: "43524976946816519752",
      clientsecret: "90863E0C04EF929425BBC22004949762"
    };
    if (defaultSettings != null) {
      defaultCfg = JSON.parse(defaultSettings);
    }
    showWorklist();
    function showWorklist() {
      const elem = document.querySelector("#myworkist");
      const mytag = document.createElement("pega-govus");
      mytag.action = 'workList';
      mytag.url = defaultCfg.url;
      mytag.username = defaultCfg.username;
      mytag.password = defaultCfg.password;
      mytag.authentication = 'oauth2password';
      mytag.clientid = defaultCfg.clientid;
      mytag.clientsecret = defaultCfg.clientsecret;
      mytag.portalName = defaultCfg.portalName;
      mytag.addEventListener("message", function (event) {
        const redirectURL = `${window.location.href.substring(0, window.location.href.lastIndexOf('/'))}`;
        if (event.detail.type === "openassignment") {
          let id = event.detail.id.replace("!", " ").split(" ");
          if (id.length > 3) {
            window.history.replaceState(
              {},
              '',
              `${redirectURL}/case-ssa.html?case=${id[2]}`,
            );
          }
        } else if (event.detail.type === "cancel") {
          window.location.href = `${redirectURL}/worklist.html`;
        }
      });
      elem.appendChild(mytag);
    }
    function startBenefitVerification(e) {
      const elem = e.target.closest("main");
      const mytag = document.createElement("pega-govus");
      mytag.action = 'createNewWork';
      mytag.bShowCancel = 'true';
      mytag.url = defaultCfg.url;
      mytag.username = defaultCfg.username;
      mytag.password = defaultCfg.password;
      mytag.authentication = 'oauth2password';
      mytag.clientid = defaultCfg.clientid;
      mytag.clientsecret = defaultCfg.clientsecret;
      mytag.portalName = defaultCfg.portalName;
      mytag.casetype = 'OPGO8L-CarInsur-Work-BenefitVerification';
      elem.innerHTML = "";
      mytag.addEventListener("message", function (event) {
        const redirectURL = `${window.location.href.substring(0, window.location.href.lastIndexOf('/'))}`;
        if (event.detail.type === "newwork") {
          let id = event.detail.id.split(" ");
          if (id.length == 2) {
            window.history.replaceState(
              {},
              '',
              `${redirectURL}/case-ssa.html?case=${id[1]}`,
            );
          }
        } else if (event.detail.type === "cancel") {
          window.location.href = `${redirectURL}/worklist.html`;
        }
      });
      elem.appendChild(mytag);
    }
  </script>
</body>

</html>
